<div class="card">
    <div class="card-body">
      <!-- <form name="searchForm" id="searchForm"> -->
      <form name="{rseqments[0]}_search_frm" id="{rseqments[0]}_search_frm" method="{? search_params_type === 'segments'}post{:}get{/}" action="/{admin_url}/{rseqments[0]}/{rseqments[1]}{url_suffix}" role="form">
        <table class="table align-middle mb-0">
          <colgroup>
            <col span="1" class="col-1 bg-light">
            <col span="1" class="col-5">
            <col span="1" class="col-1 bg-light">
            <col span="1" class="col-5">
          </colgroup>
          <tbody>
            <tr>
              <th scope="row">검색</th>
              <td colspan="11" class="filter-keyword">
                <div class="d-flex gap-2">
                  <select name="sec_column" id="sec_column" class="form-select w-auto" aria-label="검색구분">
                    <option data-key="" value="member_code" { ? sec_params.sec_column == "member_code" }selected="selected"{/}>회원고유번호</option>
                    <option data-key="" value="" { ? sec_params.sec_column == "" }selected="selected"{/}>거래처/운송회사</option>
                    <option data-key="" value="" { ? sec_params.sec_column == "" }selected="selected"{/}>사업장</option>
                    <option data-key="" value="" { ? sec_params.sec_column == "" }selected="selected"{/}>근무부서</option>
                    <option data-key="" value="account" { ? sec_params.sec_column == "account" }selected="selected"{/}>이메일</option>
                    <option data-key="" value="member_name" { ? sec_params.sec_column == "member_name" }selected="selected"{/}>이름</option>
                    <option data-key="" value="phone" { ? sec_params.sec_column == "phone" }selected="selected"{/}>휴대폰번호</option>
                    <option data-key="" value="" { ? sec_params.sec_column == "" }selected="selected"{/}>최종수정자</option>
                    <option data-key="" value="" { ? sec_params.sec_column == "" }selected="selected"{/}>최종승인/반려자</option>
                  </select>
                  
                  <input type="text" name="sec_keyword" id="sec_keyword" class="form-control" placeholder="검색어를 입력해주세요." style="max-width: 480px;" value="{sec_params['sec_keyword']}">
                </div>
              </td>
            </tr>
            <tr>
              <th scope="row">기간검색</th>
              <td colspan="11" class="filter-date-range">
                <div class="row align-items-center gx-4 flatpickr-range">
                  <div class="col-auto">
                    <select class="form-select w-auto" aria-label="검색구분" name="sec_date_type" id="sec_date_type">
                      <option value="c_datetime" { ? sec_params.sec_date_type == "c_datetime"} selected="selected"{/}>신규가입일시</option>
                      <option value="login_datetime" { ? sec_params.sec_date_type == "login_datetime"} selected="selected"{/}>최종접속일시</option>
                      <option value="">최종승인/반려일시</option>
                    </select>
                  </div>
                  
                  <div class="col-auto d-flex gap-2">
                    <div class="d-flex gap-2 align-items-center">
                      <label class="input-group mb-0">
                        <input type="text" placeholder="시작일" class="form-control flatpickr-input start-date" name="sec_st_date" id="sc_startdt" value="{sec_params['sec_st_date']}" maxlength="10" autocomplete="off">
                        <span class="input-group-text"><i class="las la-calendar"></i></span>
                      </label>
                      <span>~</span>
                      <label class="input-group mb-0">
                        <input type="text" placeholder="종료일" class="form-control flatpickr-input end-date" name="sec_ed_date" id="sc_enddt" value="{sec_params['sec_ed_date']}" maxlength="10" autocomplete="off">
                        <span class="input-group-text"><i class="las la-calendar"></i></span>
                      </label>
                    </div>
                  </div>
                  
                  <div class="col-auto d-flex gap-1">
                    <button type="button" class="btn btn-light select_date" data-flatpickr-set="0" data-datetype="today">오늘</button>
                    <button type="button" class="btn btn-light select_date" data-flatpickr-set="7" data-datetype="1week">1주일</button>
                    <button type="button" class="btn btn-light select_date" data-flatpickr-set="30" data-datetype="1month">1개월</button>
                    <button type="button" class="btn btn-light select_date" data-flatpickr-set="60" data-datetype="2month">2개월</button>
                    <button type="button" class="btn btn-light select_date" data-flatpickr-set="90" data-datetype="3month">3개월</button>
                    <button type="button" class="btn btn-light select_date" data-flatpickr-set="180" data-datetype="6month">6개월</button>
                    <button type="button" class="btn btn-light select_date" data-flatpickr-set="365" data-datetype="12month">12개월</button>
                    <button type="button" class="btn btn-light select_date" data-flatpickr-set="" data-datetype="all">전체</button>
                  </div>
                </div>
              </td>
            </tr>
          </tbody>
        </table>
        
        <!-- S : 상세검색 (펼침/닫힘) -->
        <div class="collapse show" id="search_detail">
          <div class="pt-4">
            <table class="table align-middle">
              <colgroup>
                <col span="1" class="col-1 bg-light">
                <col span="1" class="col-5">
                <col span="1" class="col-1 bg-light">
                <col span="1" class="col-5">
              </colgroup>
              <tbody>
                <tr>
                  <th scope="row">회원구분</th>
                  <td colspan="3" class="filter-member" data-column="3">
                    <div class="d-flex gap-4">
                      { @ set_params.acmb_member_type_cd }
                      <label class="form-check">
                        <input type="checkbox" class="form-check-input" name="sec_member_type[]" value="{.key_}" { ? sec_params.sec_member_type == .key_}checked{/}>
                        <span class="form-check-label">{.value_}</span>
                      </label>
                      { / }
                    </div>
                  </td>
                </tr>
                
                <tr data-column="4">
                  <th scope="row">거래처/운송회사</th>
                  <td colspan="3">
                    <div class="d-flex gap-2 client-search">
                      <button type="button" class="btn btn-sm btn-primary" data-modal-target="#client_list_modal">검색</button>
                      
                      <div class="search-choices"></div>
                    </div>
                  </td>
                </tr>
                
                <tr>
                  <th scope="row">보유차량 여부</th>
                  <td class="filter-car" data-column="10">
                    <label class="form-check form-check-inline">
                      <input type="radio" class="form-check-input" name="sec_has_car" value="all" { ? !in_array(sec_params.sec_has_car, array('Y','N')) }checked{/}>
                      <span class="form-check-label">전체</span>
                    </label>
                    <label class="form-check form-check-inline">
                      <input type="radio" class="form-check-input" name="sec_has_car" value="Y" { ? sec_params.sec_has_car == 'Y' }checked{/}>
                      <span class="form-check-label">보유차량 있음</span>
                    </label>
                    <label class="form-check form-check-inline">
                      <input type="radio" class="form-check-input" name="sec_has_car" value="N" { ? sec_params.sec_has_car == 'N' }checked{/}>
                      <span class="form-check-label">보유차량 없음</span>
                    </label>
                  </td>
                </tr>
                
                <tr>
                  <th scope="row">차량 운행건수</th>
                  <td class="driving-count">
                    <div class="d-flex gap-2">
                      <select name="columns" class="form-select w-auto" aria-label="검색구분">
                        <option data-key="" value="14" selected>차량 운행중인 건수</option>
                        <option data-key="" value="15">차량 총 운행건수</option>
                      </select>

                      <div class="d-flex align-items-center gap-2">
                        <span class="d-flex align-items-center gap-1">
                          <input type="text" name="" id="" class="form-control min" style="max-width: 80px;">건
                        </span>
                        <span>~</span>
                        <span class="d-flex align-items-center gap-1">
                          <input type="text" name="" id="" class="form-control max" style="max-width: 80px;">건
                        </span>
                      </div>
                    </div>
                  </td>
                  <th scope="row">동승건수</th>
                  <td class="ride-count">
                    <div class="d-flex gap-2">
                      <select name="columns" class="form-select w-auto" aria-label="검색구분">
                        <option data-key="" value="12" selected>동승중인 건수</option>
                        <option data-key="" value="13">총 동승 건수</option>
                      </select>

                      <div class="d-flex align-items-center gap-2">
                        <span class="d-flex align-items-center gap-1">
                          <input type="text" name="" id="" class="form-control min" style="max-width: 80px;">건
                        </span>
                        <span>~</span>
                        <span class="d-flex align-items-center gap-1">
                          <input type="text" name="" id="" class="form-control max" style="max-width: 80px;">건
                        </span>
                      </div>
                    </div>
                  </td>
                </tr>
                <tr>
                  <th scope="row">탑승횟수</th>
                  <td class="get-on-count" data-column="11">
                    <div class="d-flex align-items-center gap-2">
                      <span class="d-flex align-items-center gap-1">
                        <input type="text" name="" id="" class="form-control min" style="max-width: 80px;">건
                      </span>
                      <span>~</span>
                      <span class="d-flex align-items-center gap-1">
                        <input type="text" name="" id="" class="form-control max" style="max-width: 80px;">건
                      </span>
                    </div>
                  </td>
                  <th scope="row">최종 전환승인여부</th>
                  <td class="filter-approve" data-column="21">
                    <div class="d-flex align-items-center gap-2">
                      <label class="form-check form-check-inline">
                        <input type="radio" class="form-check-input" name="sec_is_approve" value="" { ? !in_array(sec_params.sec_is_approve, array('Y','N')) }checked{/}>
                        <span class="form-check-label">전체</span>
                      </label>
                      <label class="form-check form-check-inline">
                        <input type="radio" class="form-check-input" name="sec_is_approve" value="0" { ? sec_params.sec_is_approve == '0' }checked{/}>
                        <span class="form-check-label">승인요청</span>
                      </label>
                      <label class="form-check form-check-inline">
                        <input type="radio" class="form-check-input" name="sec_is_approve" value="1" { ? sec_params.sec_is_approve == '1' }checked{/}>
                        <span class="form-check-label">승인완료</span>
                      </label>
                      <label class="form-check form-check-inline">
                        <input type="radio" class="form-check-input" name="sec_is_approve" value="2" { ? sec_params.sec_is_approve == '2' }checked{/}>
                        <span class="form-check-label">재승인요청</span>
                      </label>
                      <label class="form-check form-check-inline">
                        <input type="radio" class="form-check-input" name="sec_is_approve" value="3" { ? sec_params.sec_is_approve == '3' }checked{/}>
                        <span class="form-check-label">재승인완료</span>
                      </label>
                      <label class="form-check form-check-inline">
                        <input type="radio" class="form-check-input" name="sec_is_approve" value="4" { ? sec_params.sec_is_approve == '4' }checked{/}>
                        <span class="form-check-label">반려</span>
                      </label>
                    </div>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
        <!-- E : 상세검색 (펼침/닫힘) -->
        
        <!-- S : 버튼영역 -->
        <div class="text-end mt-4">
          <button type="button" class="btn btn-ghost-primary" id="search_detail_button" data-bs-toggle="collapse" data-bs-target="#search_detail" aria-expanded="true" aria-controls="search_detail">
            <i class="align-middle ri-indeterminate-circle-line"></i>
            상세 검색하기
          </button>
          <button type="submit" class="btn btn-primary btn-form-search">검색</button>
          <button type="reset" class="btn btn-dark">초기화</button>
        </div>
        <!-- E : 버튼영역 -->
      </form>
    </div>
  </div>